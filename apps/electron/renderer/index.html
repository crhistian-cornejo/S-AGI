<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self' blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' blob:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com data:; connect-src 'self' blob: data: http://127.0.0.1:* https://*.supabase.co wss://*.supabase.co https://api.anthropic.com https://api.openai.com; img-src 'self' data: blob: https://*.googleusercontent.com https://*.supabase.co https://*.githubusercontent.com https://api.microlink.io https://www.google.com https://*.google.com https://*.gstatic.com; media-src 'self' blob: data:; frame-src 'self' blob: data:; worker-src 'self' blob: data:;"
        />
        <!-- Buffer polyfill - must load before any module that uses it -->
        <script>
            // Minimal Buffer polyfill for browser (if needed by other modules)
            // This runs before any ES modules are loaded
            if (typeof window !== 'undefined' && typeof window.Buffer === 'undefined') {
                window.Buffer = {
                    isBuffer: function(obj) { return obj && obj._isBuffer === true; },
                    from: function(data, encoding) {
                        if (typeof data === 'string') {
                            if (encoding === 'base64') {
                                return { _isBuffer: true, toString: function() { return atob(data); }, data: atob(data) };
                            }
                            return { _isBuffer: true, toString: function() { return data; }, data: data };
                        }
                        return { _isBuffer: true, data: data };
                    },
                    alloc: function(size) { return { _isBuffer: true, data: new Uint8Array(size) }; }
                };
                window.global = window;
            }
        </script>
        <title>S-AGI</title>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="/fonts/inter.css" rel="stylesheet" />
        <link rel="icon" type="image/svg+xml" href="/logo.svg" />
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" sizes="120x120" href="/favicon-120.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="/favicon-152.png" />
    </head>

    <body class="bg-background text-foreground">
        <div id="root"></div>
        <script type="module" src="./main.tsx"></script>
    </body>
</html>
